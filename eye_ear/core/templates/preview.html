{% extends 'base.html' %}
{% load static %}

{% block head %}
<title>{{title}} | By {{author.get_full_name}} | My Audio Blogs</title>
<meta name="title" content="{{title}} | By {{author.get_full_name}} | My Audio Blogs">
<meta content="{{description_text}}" name="description" />
<meta
    content="{{title}}, By {{author.get_full_name}} ,{% for tag in tags %} {{tag.name}},{% endfor %} My Audio Blogs, Blogs, Audio Blogs, audio with blogs, best blogs, audible blogs"
    name="keywords" />

<meta name="og:title" content="{{title}} | By {{author.get_full_name}} | My Audio Blogs" />
<meta name="og:type" content="website" />
<meta name="og:url" content="https://www.myaudioblogs.co/" />
<meta name="og:image" content="https://www.myaudioblogs.co/static/image/logo/favicon.svg" />
<meta name="og:description" content="{{description_text}}" />

<meta name="twitter:title" content="{{title}} | By {{author.get_full_name}} | My Audio Blogs">
<meta name="twitter:description" content="{{description_text}}">
<meta name="twitter:image" content="https://www.myaudioblogs.co/static/image/logo/favicon.svg">
<meta name="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://www.myaudioblogs.co/">
{% endblock %}

{% block files %}
<script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/header@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/paragraph@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/delimiter@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/quote@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/list@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/checklist@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/image@2.3.0"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/underline@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/raw"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/link@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/editorjs-paragraph-with-alignment@2.0.0"></script>
<script src="https://cdn.jsdelivr.net/npm/editorjs-style@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/table@1.3.0/dist/bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/marker@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/inline-code@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/code@2.6.0/dist/bundle.min.js"></script>
<script>
    let hostname = "https://" + window.location.hostname;
    if (hostname == "https://localhost") {
        hostname = "http://localhost:8000";
    }
    function EditorJsSetting(dataJson) {
        return new EditorJS({
            holder: "editorjs",

            tools: {
                header: {
                    class: Header,
                    shortcut: "CMD+SHIFT+H",
                },
                style: EditorJSStyle.StyleInlineTool,
                delimiter: Delimiter,
                paragraph: {
                    class: Paragraph,
                    inlineToolbar: true,
                },
                underline: Underline,
                quote: {
                    class: Quote,
                    inlineToolbar: true,
                    shortcut: "CMD+SHIFT+O",
                    config: {
                        quotePlaceholder: "Enter a quote",
                        captionPlaceholder: "Quote's author",
                    },
                },
                list: {
                    class: List,
                    inlineToolbar: true,
                },
                checklist: {
                    class: Checklist,
                    inlineToolbar: true,
                },
                image: {
                    class: ImageTool,
                    config: {
                        endpoints: {
                            byFile: `${hostname}/fileUpload`,
                            byUrl: `${hostname}/fetchUrl`,
                        },
                    },
                },
                linkTool: {
                    class: LinkTool,
                    config: {
                        endpoint: `${hostname}/fetchLink`,
                    },
                },
                raw: RawTool,
                table: {
                    class: Table,
                    inlineToolbar: true,
                    config: {
                        rows: 2,
                        cols: 3,
                    },
                },
                Marker: {
                    class: Marker,
                    shortcut: "CMD+SHIFT+M",
                },
                inlineCode: {
                    class: InlineCode,
                    shortcut: "CMD+SHIFT+M",
                },
                code: CodeTool,
            },
            data: JSON.parse(dataJson),
        });
    }

</script>

<script src="{% static 'js/jsonToHtml.js'%}"></script>
<script src="{% static 'js/main.js'%}"></script>
<script src="{% static 'js/sidebar.js'%}"></script>
{% endblock %}

{% block body %}
{% static "" as baseUrl %}
<div class="container">
    <div id="editorjs" class="bodyBlog">
        <div class="codex-editor">
            <div id="showhtml" class="codex-editor__redactor">
                <div class="ce-block">
                    <div class="ce-block__content">
                        <h1>{{title}}</h1>
                    </div>
                    <div class="ce-block__content">
                        <div class="author-section-blog">
                            <div class="left-section">
                                <div class="image-wrapper">
                                    <a class="author-blog-link" href="/{{author.slug}}">
                                        {% if author.image %}
                                        <img src="{{author.image.url}}" alt="User Image">
                                        {% endif %}
                                    </a>
                                </div>
                                <div class="author-text">
                                    <a href="/{{author.slug}}">
                                        <h4>{{author.get_full_name}}</h4>
                                    </a>
                                    <p>{{created_at}} Â· {{read_min}} min read</p>
                                </div>
                            </div>
                            <div class="icon-wrapper">
                                <button class="modalOpenButton">
                                    <i class="fa fa-share-alt" aria-hidden="true"></i>
                                </button>
                                <div class="modal">
                                    <div class="modal-content">
                                        <span class="close">&times;</span>
                                        <div class="clap-users-container">
                                            <h2>Share</h2>
                                            <div>
                                                <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
                                                    <a class="a2a_button_facebook"></a>
                                                    <a class="a2a_button_twitter"></a>
                                                    <a class="a2a_button_whatsapp"></a>
                                                    <a class="a2a_button_google_gmail"></a>
                                                    <i class="fa fa-link" aria-hidden="true"
                                                        class="copylink"
                                                        onclick="copyLink()"></i>
                                                </div>
                                                <script async src="https://static.addtoany.com/menu/page.js"></script>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button class="twitter" onclick="OpenNewWindow('{{title}}')">
                                    <svg width="29" height="29">
                                        <path
                                            d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z">
                                        </path>
                                    </svg>
                                </button>
                                <!-- <button>
                                    <svg width="29" height="29" viewBox="0 0 29 29">
                                        <path
                                            d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z">
                                        </path>
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z"
                                            fill="#fff"></path>
                                    </svg>
                                </button>
                                <button>
                                    <svg width="29" height="29">
                                        <path
                                            d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79">
                                        </path>
                                    </svg>
                                </button> -->
                                {% if request.user.is_authenticated %}
                                {% if is_saved == True %}
                                <button class="bookmark" data-marked="1" data-blog-id="{{id}}">
                                    <svg width="25" height="25" viewBox="0 0 25 25">
                                        <path
                                            d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z">
                                        </path>
                                    </svg>
                                </button>
                                {% else %}
                                <button class="bookmark" data-marked="0" data-blog-id="{{id}}">
                                    <svg width="25" height="25" viewBox="0 0 25 25">
                                        <path
                                            d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                                            fill-rule="evenodd"></path>
                                    </svg>
                                </button>
                                {% endif %}
                                {% else %}
                                <a href="/accounts/login/" class="btn btn-success bg-transparent">
                                    <svg width="25" height="25" viewBox="0 0 25 25">
                                        <path
                                            d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                                            fill-rule="evenodd"></path>
                                    </svg>
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="codex-editor__redactor">
                <div class="ce-block">
                    <div class="ce-block__content">
                        <div class="tags-wrapper">
                            <ul>
                                {% for tag in tags %}
                                <li>
                                    <a href="/tag/{{tag.name}}">{{tag.name}}</a>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="codex-editor__redactor">
                <div class="ce-block">
                    <div class="ce-block__content">
                        <div class="author-section-blog author-section-blog-last">
                            <div class="left-section">
                                <div class="image-wrapper">
                                    <a class="author-blog-link" href="/{{author.slug}}">
                                        {% if author.image %}
                                        <img src="{{author.image.url}}" alt="User Image">
                                        {% endif %}
                                    </a>
                                </div>
                                <div class="author-text">
                                    <p>WRITTEN BY</p>
                                    <a href="/{{author.slug}}">
                                        <h4>{{author.get_full_name}}</h4>
                                    </a>
                                    <p>{{created_at}} Â· {{read_min}} min read</p>
                                </div>
                            </div>
                            <div class="icon-wrapper">
                                {% if request.user.is_authenticated %}
                                {% if not is_author %}
                                {% if is_following %}
                                <button type="button" class="btn btn-light follow-button"
                                    data-user-id="{{author.id}}">Unfollow</button>
                                {% else %}
                                <button type="button" class="btn btn-success follow-button"
                                    data-user-id="{{author.id}}">Follow</button>
                                {% endif %}
                                {% if viewer_clap_count == 0 %}
                                <button class="clap-blog" data-blog-id="{{id}}">
                                    <svg width="29" height="29" aria-label="clap">
                                        <g fill-rule="evenodd">
                                            <path
                                                d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z">
                                            </path>
                                        </g>
                                    </svg>
                                </button>
                                {% else %}
                                <button class="clap-blog" data-blog-id="{{id}}">
                                    <svg width="29" height="29" aria-label="clap">
                                        <g fill-rule="evenodd">
                                            <path
                                                d="M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z">
                                            </path>
                                            <path
                                                d="M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z">
                                            </path>
                                        </g>
                                    </svg>
                                </button>
                                {% endif %}
                                {% else %}
                                <a href="/{{author.slug}}/{{id}}/editing" target="_blank" class="btn btn-success">Edit
                                    Blog</a>
                                {% endif %}
                                <button class="modalOpenButton">
                                    <i class="fa fa-share-alt" aria-hidden="true"></i>
                                </button>
                                <div class="modal">
                                    <div class="modal-content">
                                        <span class="close">&times;</span>
                                        <div class="clap-users-container">
                                            <h2>Share</h2>
                                            <div>
                                                <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
                                                    <a class="a2a_button_facebook"></a>
                                                    <a class="a2a_button_twitter"></a>
                                                    <a class="a2a_button_whatsapp"></a>
                                                    <a class="a2a_button_google_gmail"></a>
                                                    <i class="fa fa-link" aria-hidden="true"
                                                        class="copylink"
                                                        onclick="copyLink()"></i>
                                                </div>
                                                <script async src="https://static.addtoany.com/menu/page.js"></script>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button class="twitter" onclick="OpenNewWindow('{{title}}')">
                                    <svg width="29" height="29">
                                        <path
                                            d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z">
                                        </path>
                                    </svg>
                                </button>
                                {% if is_saved == True %}
                                <button class="bookmark" data-marked="1" data-blog-id="{{id}}">
                                    <svg width="25" height="25" viewBox="0 0 25 25">
                                        <path
                                            d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z">
                                        </path>
                                    </svg>
                                </button>
                                {% else %}
                                <button class="bookmark" data-marked="0" data-blog-id="{{id}}">
                                    <svg width="25" height="25" viewBox="0 0 25 25">
                                        <path
                                            d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                                            fill-rule="evenodd"></path>
                                    </svg>
                                </button>
                                {% endif %}
                                {% else %}
                                <a href="/accounts/login/" class="btn btn-success">Follow</a>
                                <button>
                                    <a href="/accounts/login/">
                                        <svg width="29" height="29" aria-label="clap">
                                            <g fill-rule="evenodd">
                                                <path
                                                    d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z">
                                                </path>
                                            </g>
                                        </svg>
                                    </a>
                                </button>
                                <button class="twitter" onclick="OpenNewWindow('{{title}}')">
                                    <svg width="29" height="29">
                                        <path
                                            d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z">
                                        </path>
                                    </svg>
                                </button>
                                <button>
                                    <a href="/accounts/login/">
                                        <svg width="25" height="25" viewBox="0 0 25 25">
                                            <path
                                                d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                                                fill-rule="evenodd"></path>
                                        </svg>
                                    </a>
                                </button>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="audio-container">
        {% if audio_complete == 1 %}
        <audio controls="controls" preload="auto">
            <source src="{{baseUrl}}audio/{{id}}_final.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        {% elif audio_complete == 2 %}
        <audio controls="controls" preload="auto">
            <source src="/media/audio/{{id}}_final.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        {% endif %}
        <div class="notification-container">
            <div class="notification notification-s">
            </div>
            <div class="notification notification-v">
            </div>
        </div>
    </div>
    <div class="side-left-container">
        <div class="author-info">
            <a href="/{{author.slug}}">
                <h4>{{author.get_full_name}}</h4>
            </a>
            {% if author.bio %}
            <p>{{author.bio}}</p>
            {% endif %}
            {% if request.user.is_authenticated %}
            {% if not is_author %}
            {% if is_following %}
            <button type="button" class="btn follow-button" data-user-id="{{author.id}}">Unfollow</button>
            {% else %}
            <button type="button" class="btn btn-success follow-button" data-user-id="{{author.id}}">Follow</button>
            {% endif %}
            {% endif %}
            {% else %}
            <a href="/accounts/login/" class="btn btn-success">Follow</a>
            {% endif %}
        </div>
        <hr>
        <div class="appreciation-wrapper">
        {% if not is_author %}
        <div class="appreciation-items">
            <div class="center-center">
                {% if viewer_clap_count == 0 %}
                <button class="clap-blog center-center" data-blog-id="{{id}}">
                    <svg width="29" height="29" aria-label="clap">
                        <g fill-rule="evenodd">
                            <path
                                d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z">
                            </path>
                        </g>
                    </svg>
                </button>
                {% else %}
                <button class="clap-blog center-center" data-blog-id="{{id}}">
                    <svg width="29" height="29" aria-label="clap">
                        <g fill-rule="evenodd">
                            <path
                                d="M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z">
                            </path>
                            <path
                                d="M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z">
                            </path>
                        </g>
                    </svg>
                </button>
                {% endif %}
            </div>
            <div class="center-center">
                <div>
                    <button class="clap-count modalOpenButton">
                        {{clap_count}}
                    </button>
                    <div class="modal">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <div class="clap-users-container">
                                <h2>{{clap_count}} claps from {{voter_count}} people for "{{title}}"</h2>
                                {% for viewer in voters %}
                                <div class="user-container">
                                    <div class="img-container">
                                        {% if viewer.user.image %}
                                        <img src="{{viewer.user.image.url}}" alt="{{ viewer.user.get_full_name }}">
                                        {% endif %}
                                    </div>
                                    <div>
                                        <a href="/{{viewer.user.slug}}">{{ viewer.user.get_full_name }}</a>
                                        {% if viewer.user.bio %}
                                        <p>{{ viewer.user.bio }}</p>
                                        {% endif %}
                                    </div>
                                    <div>
                                        {% if request.user.is_authenticated %}
                                        {% if viewer.user != request.user %}
                                        {% if viewer.is_followed %}
                                        <button type="button" class="btn btn-light follow-button"
                                            data-user-id="{{viewer.user.id}}">Unfollow</button>
                                        {% else %}
                                        <button type="button" class="btn btn-success follow-button"
                                            data-user-id="{{viewer.user.id}}">Follow</button>
                                        {% endif %}
                                        {% endif %}
                                        {% else %}
                                        <a href="/accounts/login/" class="btn btn-success">Follow</a>
                                        {% endif %}
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <div>
            <a href="/{{author.slug}}/{{id}}/editing" target="_blank" class="btn btn-success">Edit Blog</a>
        </div>
        {% endif %}
        <!-- <div class="appreciation-items">
            <div class="center-center">
                <button class="comment" data-count="0">
                    <svg width="25" height="25" class="r" aria-label="responses">
                        <path
                            d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z"
                            fill-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            <div class="center-center">
                <p>
                    <button class="comment-count">
                        0
                    </button>
                </p>
            </div>
        </div> -->

        <div class="appreciation-items">
            <div class="center-center">
                <button class="center-center">
                    <i class="fa fa-eye" aria-hidden="true"></i>
                </button>
            </div>
            <div class="center-center">
                <button class="center-center">
                    {{view_count}}
                </button>
            </div>
        </div>

        {% if request.user.is_authenticated %}
        <div class="appreciation-items">
            <div class="center-center">
                {% if is_saved == True %}
                <button class="bookmark" data-marked="1" data-blog-id="{{id}}">
                    <svg width="25" height="25" viewBox="0 0 25 25">
                        <path
                            d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z">
                        </path>
                    </svg>
                </button>
                {% else %}
                <button class="bookmark" data-marked="0" data-blog-id="{{id}}">
                    <svg width="25" height="25" viewBox="0 0 25 25">
                        <path
                            d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                            fill-rule="evenodd"></path>
                    </svg>
                </button>
                {% endif %}
            </div>
        </div>
        {% else %}
        <a href="/accounts/login/" class="btn btn-success bg-transparent">
            <svg width="25" height="25" viewBox="0 0 25 25">
                <path
                    d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                    fill-rule="evenodd"></path>
            </svg>
        </a>
        {% endif %}

        </div>
    </div>
</div>
{% csrf_token %}
<script>
    const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;
    const author = '{{author}}'
</script>
<script>
    if(!window.console) window.console = {};
    let methods = ["log", "debug", "warn", "info"];
    for(var i=0;i<methods.length;i++){
        console[methods[i]] = function(){};
    }
    const edjsParser = edjsHTML();
    const data = '{{body}}'.replaceAll('&quot;', '"').replaceAll('&lt;', '<').replaceAll('&gt;', '>').replaceAll('&amp;amp;nbsp;', ' ').slice(1, -1);
    const html = edjsParser.parse(JSON.parse(data));
    html.forEach((element) => {
        document.getElementById("showhtml").innerHTML += element;
    });
    const OpenNewWindow = (title) => {
        title.replaceAll(' ', '%20')
        window.open(`https://twitter.com/intent/tweet?text=I%20just%20published%20${title}%20${$(location).attr('href')}`);
    };
</script>
{% endblock %}